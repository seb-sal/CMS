<h2>Contacts main page</h2>

<h4>
    <!-- When submit the form, the view rendered will be the index view of our articles resource -->
  <%= form_tag(contacts_path, :method => "get", class: "navbar-form", id: "search-form") do %>
    <div class="input-append">
      <%= text_field_tag :search, params[:search], class: "span2", placeholder: "Type contact name" %>
      <!-- In order to have the "search" icon int the button, we need to use plain HTML instead
           of using a Rails form helper -->
      <button class="btn" type="submit"><i class="icon-search"></i>Search</button>
      <%= submit_tag "Clear", :class => 'inputsubmit', :type => 'reset'%>

    </div>
  <% end %>
</h4>

<table>
  <thead>
    <tr>
      <th>Id</th>
      <th>Picture</th>
      <th>Name</th>
      <th>Job Title</th>
      <th>Email Type</th>
      <th>Office Num</th>
      <th>Cellphone</th>

      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @contacts.each do |contact| %>
      <tr>
        <td><%= contact.contact_id %></td>
        <td><%= contact.profile_pic_uri %></td>
        <td><%= contact.name %></td>
        <td><%= contact.job_title %></td>
        <td><%= contact.email %></td>
        <td><%= contact.office_number %></td>
        <td><%= contact.cellphone_number %></td>

        <td><%= link_to 'Edit', edit_contact_path(contact) %></td>
        <td>
          <%= button_to "Delete", { action: "destroy", :controller => :contacts, id: contact.id },
          method: :delete, data: { confirm: "Are you sure?" } %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>


<br>
